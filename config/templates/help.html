{% extends 'base/base.html' %}

{% block content %}
    <!-- Main content -->
    <div class="main-content">
        <!-- Header -->
        <div class="main-header">
            <div class="d-flex align-items-center">
                <button class="btn btn-outline-secondary me-3 d-lg-none" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <button class="btn btn-outline-secondary me-3 d-none d-lg-inline-block" id="sidebarToggle">
                    <i class="fas fa-chevron-left"></i>
                </button>
                
                <div class="page-title">
                    <h1>Aide et documentation</h1>
                    <p>Trouvez des réponses à vos questions et apprenez à utiliser FACEATTEND</p>
                </div>
            </div>
            
            <div class="header-actions">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#contactSupportModal">
                    <i class="fas fa-headset me-2"></i>Contacter le support
                </button>
            </div>
        </div>
        
        <!-- Notifications container -->
        <div id="notification-container"></div>
        
        <!-- Recherche d'aide -->
        <div class="card mb-4">
            <div class="card-body">
                <div class="text-center mb-4">
                    <h2 class="mb-3">Comment pouvons-nous vous aider ?</h2>
                    <p class="text-muted">Recherchez dans notre documentation ou parcourez les catégories ci-dessous</p>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="input-group input-group-lg">
                            <span class="input-group-text">
                                <i class="fas fa-search"></i>
                            </span>
                            <input type="text" class="form-control" placeholder="Rechercher une question, un problème ou une fonctionnalité...">
                            <button class="btn btn-primary">Rechercher</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Catégories d'aide -->
        <div class="row mb-4">
            <div class="col-md-3 mb-4">
                <div class="card help-card">
                    <div class="card-body text-center">
                        <div class="category-icon bg-primary bg-opacity-10 text-primary">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <h5 class="card-title">Premiers pas</h5>
                        <p class="card-text text-muted">Guide d'installation et configuration initiale</p>
                        <a href="#getting-started" class="btn btn-outline-primary">Voir le guide</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="card help-card">
                    <div class="card-body text-center">
                        <div class="category-icon bg-success bg-opacity-10 text-success">
                            <i class="fas fa-users"></i>
                        </div>
                        <h5 class="card-title">Gestion des étudiants</h5>
                        <p class="card-text text-muted">Ajouter, modifier et gérer les étudiants</p>
                        <a href="#students" class="btn btn-outline-primary">En savoir plus</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="card help-card">
                    <div class="card-body text-center">
                        <div class="category-icon bg-warning bg-opacity-10 text-warning">
                            <i class="fas fa-camera"></i>
                        </div>
                        <h5 class="card-title">Prise de présence</h5>
                        <p class="card-text text-muted">Utiliser la reconnaissance faciale</p>
                        <a href="#attendance" class="btn btn-outline-primary">En savoir plus</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-4">
                <div class="card help-card">
                    <div class="card-body text-center">
                        <div class="category-icon bg-info bg-opacity-10 text-info">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h5 class="card-title">Paramètres</h5>
                        <p class="card-text text-muted">Configuration et personnalisation</p>
                        <a href="#settings" class="btn btn-outline-primary">En savoir plus</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- FAQ -->
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="fas fa-question-circle me-2"></i>Questions fréquentes (FAQ)
                </h5>
            </div>
            <div class="card-body">
                <div class="faq-list" id="faqAccordion">
                    <div class="faq-item">
                        <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq1" aria-expanded="true">
                            <span>Comment enregistrer un nouvel étudiant ?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer collapse show" id="faq1" data-bs-parent="#faqAccordion">
                            <p>Pour enregistrer un nouvel étudiant :</p>
                            <ol>
                                <li>Allez dans la section "Étudiants"</li>
                                <li>Cliquez sur "Ajouter un étudiant"</li>
                                <li>Remplissez les informations personnelles</li>
                                <li>Prenez une photo claire du visage de l'étudiant</li>
                                <li>Cliquez sur "Enregistrer l'étudiant"</li>
                            </ol>
                            <p>Le système générera automatiquement l'encodage facial pour la reconnaissance.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq2">
                            <span>La reconnaissance faciale ne fonctionne pas, que faire ?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer collapse" id="faq2" data-bs-parent="#faqAccordion">
                            <p>Si la reconnaissance faciale ne fonctionne pas :</p>
                            <ul>
                                <li>Vérifiez que la caméra est correctement connectée</li>
                                <li>Assurez-vous que les étudiants sont bien enregistrés dans le système</li>
                                <li>Vérifiez l'éclairage de la pièce (évitez les contre-jours)</li>
                                <li>Ajustez le seuil de confiance dans les paramètres</li>
                                <li>Redémarrez l'application et la caméra</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq3">
                            <span>Comment corriger une présence enregistrée par erreur ?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer collapse" id="faq3" data-bs-parent="#faqAccordion">
                            <p>Pour corriger une présence :</p>
                            <ol>
                                <li>Allez dans "Historique des présences"</li>
                                <li>Trouvez l'enregistrement à corriger</li>
                                <li>Cliquez sur l'icône de correction (crayon)</li>
                                <li>Sélectionnez le nouveau statut (présent/absent/retard)</li>
                                <li>Ajoutez une note explicative si nécessaire</li>
                                <li>Cliquez sur "Enregistrer la correction"</li>
                            </ol>
                            <p>La correction sera enregistrée dans l'historique des modifications.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" data-bs-toggle="collapse" data-bs-target="#faq4">
                            <span>Comment exporter les données de présence ?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer collapse" id="faq4" data-bs-parent="#faqAccordion">
                            <p>Vous pouvez exporter les données de présence dans plusieurs formats :</p>
                            <ul>
                                <li><strong>Excel (.xlsx)</strong> : Format recommandé pour l'analyse</li>
                                <li><strong>PDF</strong> : Pour les rapports formels</li>
                                <li><strong>CSV</strong> : Pour l'importation dans d'autres systèmes</li>
                            </ul>
                            <p>Pour exporter :</p>
                            <ol>
                                <li>Allez dans "Historique des présences"</li>
                                <li>Appliquez les filtres si nécessaire</li>
                                <li>Cliquez sur le bouton "Exporter"</li>
                                <li>Sélectionnez le format souhaité</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Guides par catégorie -->
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="card" id="getting-started">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-play-circle me-2"></i>Premiers pas avec FACEATTEND
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="d-flex align-items-start mb-3">
                            <div class="step-number">1</div>
                            <div>
                                <h6>Configuration initiale</h6>
                                <p class="text-muted mb-0">
                                    Configurez les paramètres de base de votre institution, 
                                    le fuseau horaire et les préférences linguistiques.
                                </p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-start mb-3">
                            <div class="step-number">2</div>
                            <div>
                                <h6>Création des comptes</h6>
                                <p class="text-muted mb-0">
                                    Créez les comptes administrateurs et enseignants 
                                    qui utiliseront le système.
                                </p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-start mb-3">
                            <div class="step-number">3</div>
                            <div>
                                <h6>Enregistrement des étudiants</h6>
                                <p class="text-muted mb-0">
                                    Enregistrez les étudiants avec leurs photos 
                                    pour permettre la reconnaissance faciale.
                                </p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-start">
                            <div class="step-number">4</div>
                            <div>
                                <h6>Configuration des cours</h6>
                                <p class="text-muted mb-0">
                                    Créez les cours et assignez-les aux enseignants 
                                    responsables.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card" id="attendance">
                    <div class="card-header">
                        <h5 class="card-title mb-0">
                            <i class="fas fa-camera me-2"></i>Guide de prise de présence
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info mb-3">
                            <i class="fas fa-lightbulb me-2"></i>
                            <strong>Conseil :</strong> Pour une reconnaissance optimale, 
                            assurez-vous que la pièce est bien éclairée et que les étudiants 
                            font face à la caméra.
                        </div>
                        
                        <h6>Meilleures pratiques :</h6>
                        <ul class="mb-3">
                            <li>Positionnez la caméra à hauteur des visages</li>
                            <li>Évitez les sources de lumière derrière les étudiants</li>
                            <li>Vérifiez régulièrement la qualité des photos enregistrées</li>
                            <li>Utilisez la capture automatique pour les grands groupes</li>
                        </ul>
                        
                        <h6>Résolution des problèmes courants :</h6>
                        <ul class="mb-0">
                            <li><strong>Faible taux de reconnaissance</strong> : Ajustez le seuil de confiance</li>
                            <li><strong>Caméra non détectée</strong> : Vérifiez les connexions et redémarrez</li>
                            <li><strong>Reconnaissance lente</strong> : Réduisez le nombre de visages simultanés</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Support technique -->
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="fas fa-headset me-2"></i>Support technique
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 text-center mb-4 mb-md-0">
                        <div class="mb-3">
                            <i class="fas fa-envelope fa-3x text-primary"></i>
                        </div>
                        <h5>Email</h5>
                        <p class="text-muted">support@faceattend.com</p>
                        <p>Réponse sous 24 heures</p>
                    </div>
                    
                    <div class="col-md-4 text-center mb-4 mb-md-0">
                        <div class="mb-3">
                            <i class="fas fa-phone fa-3x text-success"></i>
                        </div>
                        <h5>Téléphone</h5>
                        <p class="text-muted">+237 6 51 13 84 33</p>
                        <p>Lun-Ven, 9h-18h</p>
                    </div>
                    
                    <div class="col-md-4 text-center">
                        <div class="mb-3">
                            <i class="fas fa-file-alt fa-3x text-warning"></i>
                        </div>
                        <h5>Documentation</h5>
                        <p class="text-muted">Guide complet disponible</p>
                        <a href="#" class="btn btn-outline-primary">
                            <i class="fas fa-download me-2"></i>Télécharger le PDF
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de contact support -->
    <div class="modal fade" id="contactSupportModal" tabindex="-1" aria-labelledby="contactSupportModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="contactSupportModalLabel">Contacter le support</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="supportForm">
                        <div class="mb-3">
                            <label for="supportSubject" class="form-label">Sujet *</label>
                            <select class="form-select" id="supportSubject" required>
                                <option value="">Sélectionnez un sujet</option>
                                <option value="technical">Problème technique</option>
                                <option value="billing">Facturation</option>
                                <option value="feature">Demande de fonctionnalité</option>
                                <option value="bug">Signaler un bug</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="supportDescription" class="form-label">Description du problème *</label>
                            <textarea class="form-control" id="supportDescription" rows="4" required
                                      placeholder="Décrivez votre problème en détail..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="supportPriority" class="form-label">Priorité</label>
                            <select class="form-select" id="supportPriority">
                                <option value="low">Basse</option>
                                <option value="medium" selected>Moyenne</option>
                                <option value="high">Haute</option>
                                <option value="urgent">Urgente</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="supportAttachment" class="form-label">Pièce jointe (optionnel)</label>
                            <input type="file" class="form-control" id="supportAttachment">
                            <div class="form-text">Capture d'écran, fichier log, etc. (max 10MB)</div>
                        </div>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            Nous vous répondrons dans les plus brefs délais. 
                            Pour les urgences, privilégiez l'appel téléphonique.
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
                    <button type="submit" form="supportForm" class="btn btn-primary">Envoyer la demande</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/help.js"></script>
</body>
</html>